<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.test1.mapper.ReviewMapper">
	<select id="myResList" parameterType="hashmap" resultType="com.example.test1.model.Review">
		SELECT * FROM RESERVATION 
		WHERE USER_ID = #{userId}		
	</select>
	<update id="rating" parameterType="hashmap">
		UPDATE POI SET RATING = #{rating} ,CONTENT = #{content}
		WHERE CONTENT_ID = #{contentId}
	</update>
	
	<select id="reviewList" parameterType="hashmap" resultType="com.example.test1.model.Review">
		SELECT * FROM TBL_REVIEW R1
		INNER JOIN RESERVATION R2 ON R1.RES_NUM = R2.RES_NUM		
	</select>
	
	<insert id="resInsert" parameterType="hashmap">
		INSERT INTO TBL_REVIEW
		VALUES(REVIEW_SEQ.NEXTVAL,#{userId},'0','0',SYSDATE,#{resNum})
	</insert>
	
	<insert id="fileUpload" parameterType="hashmap">
		INSERT INTO MEDIA
		VALUES(MEDIA_SEQ.NEXTVAL, #{filename}, #{path}, #{contentId}, '0', #{userId}, #{boardNo})
	</insert>
	
	
</mapper>




